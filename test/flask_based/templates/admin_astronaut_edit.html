{% extends 'base.html' %}

{% block title %}Edit {{ astronaut.name }}{% endblock %}

{% block content %}
  <style>
    .admin-form { background: #fdfdfd; border: 1px solid #ddd; padding: 25px; border-radius: 8px; }
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; font-weight: bold; margin-bottom: 5px; }
    .form-group input, .form-group select { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
    .form-button { background-color: #800020; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; font-size: 1em; }
    .form-button:hover { background-color: #600018; }
    .form-group input[readonly] { background-color: #eee; cursor: not-allowed; }
  </style>

  <h1>编辑航天员: {{ astronaut.name }}</h1>
  
  <form class="admin-form" action="" method="POST">
    
    <div class="form-group">
      <label for="uid">UID（不可变更）</label>
      <input type="text" id="uid" name="uid" value="{{ astronaut.uid }}" readonly>
    </div>
    
    <div class="form-group">
      <label for="name">姓名</label>
      <input type="text" id="name" name="name" value="{{ astronaut.name }}" required>
    </div>
    
    <div class="form-group">
      <label for="gender">性别</label>
      <select id="gender" name="gender" required>
        <option value="m" {% if astronaut.gender == 'm' %}selected{% endif %}>男</option>
        <option value="f" {% if astronaut.gender == 'f' %}selected{% endif %}>女</option>
      </select>
    </div>
    
    <div class="form-group">
      <label for="dob">出生日期</label>
      <input type="text" id="dob" name="dob" value="{{ astronaut.DOB or '' }}" required>
    </div>

    <div class="form-group">
      <label for="group_id">批次</label>
      <input type="number" id="group_id" name="group_id" min="1" value="{{ astronaut.group_id }}" required>
    </div>

    <div class="form-group">
      <label for="status">Status</label>
      <select id="status" name="status" required>
        <option value="1" {% if astronaut.status == 1 %}selected{% endif %}>现役</option>
        <option value="0" {% if astronaut.status == 0 %}selected{% endif %}>退役</option>
      </select>
    </div>
    
    <button type="submit" class="form-button">保存</button>
    
  </form>
{% endblock %}